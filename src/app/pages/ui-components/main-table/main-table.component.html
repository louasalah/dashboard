<!-- main-table.component.html -->
<mat-card class="cardWithShadow" style="
  width: 100%;           /* prend toute la largeur disponible */
  max-width: 2000px;     /* limite la largeur max (ajuste selon ton design) */
  margin: 20px auto;     /* centrer horizontalement */
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  overflow-x: visible;   /* s’assure qu’il n’y ait pas de scroll horizontal */
">
  <mat-card-content>
    <!--<mat-card-title *ngIf="config?.title">{{ config.title }}</mat-card-title>-->

    <div class="table-responsive" *ngIf="config?.dataSource">
      <table mat-table [dataSource]="config.dataSource" class="w-100">
        <ng-container *ngFor="let column of config?.columns || []" [matColumnDef]="column.name">
          <th mat-header-cell *matHeaderCellDef style="
      color: #212121;             /* Un noir un peu plus doux */
      font-weight: 700;          /* Plus bold */
      font-size: 16px;           /* Taille lisible */
      letter-spacing: 0.5px;     /* Espacement subtil entre lettres */
      text-transform: capitalize; /* Majuscule sur la première lettre */
      padding-bottom: 8px;       /* Plus d’espace sous le texte */
      border-bottom: 2px solid #000; /* Ligne plus visible */
      font-family: 'Segoe UI', sans-serif; /* Police plus élégante */
    ">
            {{ column.header }}
          </th>
          <td mat-cell *matCellDef="let element" [class]="column.cellClass || ''" [innerHTML]="sanitizeHtml(column.cell(element))">
          </td>

        </ng-container>

        <ng-container *ngIf="config?.showMenu" matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">

              <button *ngFor="let item of config?.menuItems || []" mat-menu-item (click)="item.action(element)">
                <mat-icon>{{ item.icon }}</mat-icon>
                <span>{{ item.label }}</span>
              </button>
            </mat-menu>
          </td>

        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
